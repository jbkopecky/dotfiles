#!/usr/bin/env bash
#
# Script to set colors generated by 'wal'
# https://github.com/dylanaraps/wal

# Source generated colors.
source "${HOME}/.cache/wal/colors.sh"

reload_dunst() {
    pkill dunst && \
        dunst \
            -lb "$color15" \
            -nb "$color15" \
            -cb "$color15" \
            -lf "$color0"  \
            -bf "$color0"  \
            -cf "$color9" &
            -fn "${DUNST_FONT:-Artwiz Lemon 7}" \
            -geometry "${DUNST_SIZE:-300x30-40+40}" &
}

set_firefox() {
    cp "${HOME}/.cache/wal/firefox.css" "${HOME}/Dropbox/StartPage/css/wal.css"
    pict=`grep -F "feh"  ~/.fehbg | cut -d "'" -f 2`
    cp $pict ${HOME}/Dropbox/StartPage/img/m1.gif
}

set_bar() {
    pkill bar
    bar "$color15" "$color0" 2>/dev/null &
}

main() {
    reload_dunst &
    set_bar &
    set_firefox &
}

main >/dev/null 2>&1
